<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="rustdoc">
    <meta name="description" content="API documentation for the Rust `GeoShapeMapping` trait in crate `elastic`.">
    <meta name="keywords" content="rust, rustlang, rust-lang, GeoShapeMapping">

    <title>elastic::types::prelude::GeoShapeMapping - Rust</title>

    <link rel="stylesheet" type="text/css" href="../../../normalize.css">
    <link rel="stylesheet" type="text/css" href="../../../rustdoc.css" id="mainThemeStyle">
    
    <link rel="stylesheet" type="text/css" href="../../../dark.css">
    <link rel="stylesheet" type="text/css" href="../../../main.css" id="themeStyle">
    <script src="../../../storage.js"></script>
    

    
    
</head>
<body class="rustdoc trait">
    <!--[if lte IE 8]>
    <div class="warning">
        This old browser is unsupported and will most likely display funky
        things.
    </div>
    <![endif]-->

    

    <nav class="sidebar">
        <div class="sidebar-menu">&#9776;</div>
        
        <p class='location'>Trait GeoShapeMapping</p><div class="sidebar-elems"><div class="block items"><a class="sidebar-title" href="#provided-methods">Provided Methods</a><div class="sidebar-links"><a href="#method.tree">tree</a><a href="#method.precision">precision</a><a href="#method.tree_levels">tree_levels</a><a href="#method.strategy">strategy</a><a href="#method.distance_error_pct">distance_error_pct</a><a href="#method.orientation">orientation</a><a href="#method.points_only">points_only</a></div><a class="sidebar-title" href="#implementors">Implementors</a></div><p class='location'><a href='../../index.html'>elastic</a>::<wbr><a href='../index.html'>types</a>::<wbr><a href='index.html'>prelude</a></p><script>window.sidebarCurrent = {name: 'GeoShapeMapping', ty: 'trait', relpath: ''};</script><script defer src="sidebar-items.js"></script></div>
    </nav>

    <div class="theme-picker">
        <button id="theme-picker" aria-label="Pick another theme!">
            <img src="../../../brush.svg" width="18" alt="Pick another theme!">
        </button>
        <div id="theme-choices"></div>
    </div>
    <script src="../../../theme.js"></script>
    <nav class="sub">
        <form class="search-form js-only">
            <div class="search-container">
                <input class="search-input" name="search"
                       autocomplete="off"
                       placeholder="Click or press ‘S’ to search, ‘?’ for more options…"
                       type="search">
            </div>
        </form>
    </nav>

    <section id='main' class="content">
<h1 class='fqn'><span class='in-band'>Trait <a href='../../index.html'>elastic</a>::<wbr><a href='../index.html'>types</a>::<wbr><a href='index.html'>prelude</a>::<wbr><a class="trait" href=''>GeoShapeMapping</a></span><span class='out-of-band'><span id='render-detail'>
                   <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">
                       [<span class='inner'>&#x2212;</span>]
                   </a>
               </span><a class='srclink' href='../../../src/elastic_types/geo/shape/mapping.rs.html#64-150' title='goto source code'>[src]</a></span></h1>
<pre class='rust trait'>pub trait GeoShapeMapping: <a class="trait" href="https://doc.rust-lang.org/nightly/core/default/trait.Default.html" title="trait core::default::Default">Default</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/default/trait.Default.html" title="trait core::default::Default">Default</a> {
    fn <a href='#method.tree' class='fnname'>tree</a>() -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="enum" href="../../../elastic/types/prelude/enum.Tree.html" title="enum elastic::types::prelude::Tree">Tree</a>&gt; { ... }
<div class='item-spacer'></div>    fn <a href='#method.precision' class='fnname'>precision</a>() -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="../../../elastic/types/prelude/struct.Distance.html" title="struct elastic::types::prelude::Distance">Distance</a>&gt; { ... }
<div class='item-spacer'></div>    fn <a href='#method.tree_levels' class='fnname'>tree_levels</a>() -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.i32.html">i32</a>&gt; { ... }
<div class='item-spacer'></div>    fn <a href='#method.strategy' class='fnname'>strategy</a>() -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="enum" href="../../../elastic/types/prelude/enum.Strategy.html" title="enum elastic::types::prelude::Strategy">Strategy</a>&gt; { ... }
<div class='item-spacer'></div>    fn <a href='#method.distance_error_pct' class='fnname'>distance_error_pct</a>() -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.f32.html">f32</a>&gt; { ... }
<div class='item-spacer'></div>    fn <a href='#method.orientation' class='fnname'>orientation</a>() -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="enum" href="../../../elastic/types/prelude/enum.Orientation.html" title="enum elastic::types::prelude::Orientation">Orientation</a>&gt; { ... }
<div class='item-spacer'></div>    fn <a href='#method.points_only' class='fnname'>points_only</a>() -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a>&gt; { ... }
}</pre><div class='docblock'><p>The base requirements for mapping a <code>geo_shape</code> type.</p>
<p>Custom mappings can be defined by implementing <code>GeoShapeMapping</code>.</p>
<h1 id="examples" class="section-header"><a href="#examples">Examples</a></h1>
<p>Define a custom <code>GeoShapeMapping</code>:</p>

<pre class="rust rust-example-rendered">
<span class="attribute">#[<span class="ident">derive</span>(<span class="ident">Default</span>)]</span>
<span class="kw">struct</span> <span class="ident">MyGeoShapeMapping</span>;
<span class="kw">impl</span> <span class="ident">GeoShapeMapping</span> <span class="kw">for</span> <span class="ident">MyGeoShapeMapping</span> {
    <span class="comment">//Overload the mapping functions here</span>
    <span class="kw">fn</span> <span class="ident">tree_levels</span>() <span class="op">-&gt;</span> <span class="prelude-ty">Option</span><span class="op">&lt;</span><span class="ident">i32</span><span class="op">&gt;</span> {
        <span class="prelude-val">Some</span>(<span class="number">2</span>)
    }
}</pre>
<p>This will produce the following mapping:</p>

<pre class="rust rust-example-rendered">
<span class="attribute">#[<span class="ident">derive</span>(<span class="ident">Default</span>)]</span>
{
    <span class="string">&quot;type&quot;</span>: <span class="string">&quot;geo_shape&quot;</span>,
    <span class="string">&quot;tree_levels&quot;</span>: <span class="number">2</span>
}</pre>
</div>
            <h2 id='provided-methods' class='small-section-header'>
              Provided Methods<a href='#provided-methods' class='anchor'></a>
            </h2>
            <div class='methods'>
        <h3 id='method.tree' class='method'><span id='tree.v' class='invisible'><code>fn <a href='#method.tree' class='fnname'>tree</a>() -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="enum" href="../../../elastic/types/prelude/enum.Tree.html" title="enum elastic::types::prelude::Tree">Tree</a>&gt;</code></span></h3><div class='docblock'><p>Name of the PrefixTree implementation to be used:
<code>geohash</code> for <code>GeohashPrefixTree</code> and <code>quadtree</code> for <code>QuadPrefixTree</code>.</p>
</div><h3 id='method.precision' class='method'><span id='precision.v' class='invisible'><code>fn <a href='#method.precision' class='fnname'>precision</a>() -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="../../../elastic/types/prelude/struct.Distance.html" title="struct elastic::types::prelude::Distance">Distance</a>&gt;</code></span></h3><div class='docblock'><p>This parameter may be used instead of <code>tree_levels</code> to set an appropriate value
for the <code>tree_levels</code> parameter.
The value specifies the desired precision and Elasticsearch will calculate the best
<code>tree_levels</code> value to honor this precision.
The value should be a number followed by an optional distance unit.</p>
</div><h3 id='method.tree_levels' class='method'><span id='tree_levels.v' class='invisible'><code>fn <a href='#method.tree_levels' class='fnname'>tree_levels</a>() -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.i32.html">i32</a>&gt;</code></span></h3><div class='docblock'><p>Maximum number of layers to be used by the <code>PrefixTree</code>.
This can be used to control the precision of shape representations and therefore
how many terms are indexed.
Defaults to the default value of the chosen <code>PrefixTree</code> implementation.
Since this parameter requires a certain level of understanding of the underlying implementation,
users may use the <code>precision</code> parameter instead.
However, Elasticsearch only uses the <code>tree_levels</code> parameter internally and this is
what is returned via the mapping API even if you use the <code>precision</code> parameter.</p>
</div><h3 id='method.strategy' class='method'><span id='strategy.v' class='invisible'><code>fn <a href='#method.strategy' class='fnname'>strategy</a>() -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="enum" href="../../../elastic/types/prelude/enum.Strategy.html" title="enum elastic::types::prelude::Strategy">Strategy</a>&gt;</code></span></h3><div class='docblock'><p>The <code>strategy</code> parameter defines the approach for how to represent shapes at indexing and search time.
It also influences the capabilities available so it is recommended to let Elasticsearch
set this parameter automatically.
There are two strategies available: <code>recursive</code> and <code>term</code>.
Term strategy supports point types only (the <code>points_only</code> parameter will be automatically set to <code>true</code>)
while <code>Recursive</code> strategy supports all shape types.</p>
</div><h3 id='method.distance_error_pct' class='method'><span id='distance_error_pct.v' class='invisible'><code>fn <a href='#method.distance_error_pct' class='fnname'>distance_error_pct</a>() -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.f32.html">f32</a>&gt;</code></span></h3><div class='docblock'><p>Used as a hint to the <code>PrefixTree</code> about how precise it should be.
Defaults to <code>0.025</code> (2.5%) with <code>0.5</code> as the maximum supported value.</p>
<blockquote>
<p>PERFORMANCE NOTE: This value will default to <code>0</code> if a <code>precision</code> or <code>tree_level</code> definition is explicitly defined.
This guarantees spatial precision at the level defined in the mapping.
This can lead to significant memory usage for high resolution shapes with low error
(e.g., large shapes at <code>1m</code> with &lt; <code>0.001</code> error).
To improve indexing performance (at the cost of query accuracy) explicitly define <code>tree_level</code>
or <code>precision</code> along with a reasonable <code>distance_error_pct</code>,
noting that large shapes will have greater false positives.</p>
</blockquote>
</div><h3 id='method.orientation' class='method'><span id='orientation.v' class='invisible'><code>fn <a href='#method.orientation' class='fnname'>orientation</a>() -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="enum" href="../../../elastic/types/prelude/enum.Orientation.html" title="enum elastic::types::prelude::Orientation">Orientation</a>&gt;</code></span></h3><div class='docblock'><p>Setting this parameter in the <code>geo_shape</code> mapping explicitly sets vertex order for
the coordinate list of a <code>geo_shape</code> field but can be overridden in each individual
GeoJSON document.</p>
</div><h3 id='method.points_only' class='method'><span id='points_only.v' class='invisible'><code>fn <a href='#method.points_only' class='fnname'>points_only</a>() -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a>&gt;</code></span></h3><div class='docblock'><p>Setting this option to <code>true</code> (defaults to <code>false</code>) configures the <code>geo_shape</code> field
type for point shapes only (NOTE: Multi-Points are not yet supported).
This optimizes index and search performance for the geohash and quadtree when it is
known that only points will be indexed.
At present <code>geo_shape</code> queries can not be executed on geo_point field types.
This option bridges the gap by improving point performance on a <code>geo_shape</code> field
so that geo_shape queries are optimal on a point only field.</p>
</div></div>
        <h2 id='implementors' class='small-section-header'>
          Implementors<a href='#implementors' class='anchor'></a>
        </h2>
        <ul class='item-list' id='implementors-list'>
    <li><div class='out-of-band'><a class='srclink' href='../../../src/elastic_types/geo/shape/mapping.rs.html#155' title='goto source code'>[src]</a></div><code>impl GeoShapeMapping for <a class="struct" href="../../../elastic/types/prelude/struct.DefaultGeoShapeMapping.html" title="struct elastic::types::prelude::DefaultGeoShapeMapping">DefaultGeoShapeMapping</a></code></li>
</ul><script type="text/javascript" async
                         src="../../../implementors/elastic_types/geo/shape/mapping/trait.GeoShapeMapping.js">
                 </script></section>
    <section id='search' class="content hidden"></section>

    <section class="footer"></section>

    <aside id="help" class="hidden">
        <div>
            <h1 class="hidden">Help</h1>

            <div class="shortcuts">
                <h2>Keyboard Shortcuts</h2>

                <dl>
                    <dt><kbd>?</kbd></dt>
                    <dd>Show this help dialog</dd>
                    <dt><kbd>S</kbd></dt>
                    <dd>Focus the search field</dd>
                    <dt><kbd>↑</kbd></dt>
                    <dd>Move up in search results</dd>
                    <dt><kbd>↓</kbd></dt>
                    <dd>Move down in search results</dd>
                    <dt><kbd>↹</kbd></dt>
                    <dd>Switch tab</dd>
                    <dt><kbd>&#9166;</kbd></dt>
                    <dd>Go to active search result</dd>
                    <dt><kbd>+</kbd></dt>
                    <dd>Expand all sections</dd>
                    <dt><kbd>-</kbd></dt>
                    <dd>Collapse all sections</dd>
                </dl>
            </div>

            <div class="infos">
                <h2>Search Tricks</h2>

                <p>
                    Prefix searches with a type followed by a colon (e.g.
                    <code>fn:</code>) to restrict the search to a given type.
                </p>

                <p>
                    Accepted types are: <code>fn</code>, <code>mod</code>,
                    <code>struct</code>, <code>enum</code>,
                    <code>trait</code>, <code>type</code>, <code>macro</code>,
                    and <code>const</code>.
                </p>

                <p>
                    Search functions by type signature (e.g.
                    <code>vec -> usize</code> or <code>* -> vec</code>)
                </p>
            </div>
        </div>
    </aside>

    

    <script>
        window.rootPath = "../../../";
        window.currentCrate = "elastic";
    </script>
    <script src="../../../main.js"></script>
    <script defer src="../../../search-index.js"></script>
</body>
</html>